<div class="max-w-3xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-cream-900 font-display">Редактировать профиль</h1>
    <p class="mt-2 text-sm text-cream-600 font-body">Обновите свою личную информацию</p>
  </div>

  <!-- Form Card -->
  <div class="bg-white rounded-2xl shadow-soft p-6 sm:p-8 border border-cream-300/30">
    <form (ngSubmit)="onSubmit()" #profileForm="ngForm">
      <!-- First Name Input -->
      <div class="mb-6">
        <label for="firstName" class="block text-sm font-medium text-cream-700 mb-2 font-body">
          Имя
        </label>
        <input
          type="text"
          id="firstName"
          name="firstName"
          [(ngModel)]="firstName"
          required
          class="w-full px-4 py-3 border border-cream-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent transition font-body"
          placeholder="Ваше имя"
        />
      </div>

      <!-- Last Name Input -->
      <div class="mb-6">
        <label for="lastName" class="block text-sm font-medium text-cream-700 mb-2 font-body">
          Фамилия
        </label>
        <input
          type="text"
          id="lastName"
          name="lastName"
          [(ngModel)]="lastName"
          required
          class="w-full px-4 py-3 border border-cream-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent transition font-body"
          placeholder="Ваша фамилия"
        />
      </div>

      <!-- Country Input -->
      <div class="mb-6">
        <label for="country" class="block text-sm font-medium text-cream-700 mb-2 font-body">
          Страна
        </label>
        <input
          type="text"
          id="country"
          name="country"
          [(ngModel)]="country"
          required
          class="w-full px-4 py-3 border border-cream-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent transition font-body"
          placeholder="Ваша страна"
        />
      </div>

      <!-- Email Input (Display only - tied to Firebase auth) -->
      <div class="mb-6">
        <label for="email" class="block text-sm font-medium text-cream-700 mb-2 font-body">
          Электронная почта
        </label>
        <input
          type="email"
          id="email"
          name="email"
          [value]="email"
          disabled
          class="w-full px-4 py-3 border border-cream-300 rounded-lg bg-cream-50 text-cream-500 cursor-not-allowed font-body"
        />
        <p class="mt-1 text-xs text-cream-500 font-body">
          Для изменения email обратитесь в поддержку
        </p>
      </div>

      <!-- Start Date Input -->
      <div class="mb-6">
        <label for="startDate" class="block text-sm font-medium text-cream-700 mb-2 font-body">
          Дата начала программы
        </label>
        <input
          type="date"
          id="startDate"
          name="startDate"
          [(ngModel)]="startDate"
          required
          class="w-full px-4 py-3 border border-cream-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent transition font-body"
        />
      </div>

      <!-- Success Message -->
      @if (successMessage()) {
      <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
        <p class="text-green-800 text-sm font-body">{{ successMessage() }}</p>
      </div>
      }

      <!-- Error Message -->
      @if (errorMessage()) {
      <div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
        <p class="text-red-800 text-sm font-body">{{ errorMessage() }}</p>
      </div>
      }

      <!-- Action Buttons -->
      <div class="flex gap-4">
        <button
          type="submit"
          [disabled]="!profileForm.valid || isLoading()"
          class="flex-1 bg-brand-600 hover:bg-brand-700 text-white font-semibold py-3 px-6 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed shadow-soft"
        >
          @if (isLoading()) {
          <span>Сохранение...</span>
          } @else {
          <span>Сохранить изменения</span>
          }
        </button>
        <button
          type="button"
          (click)="cancel()"
          class="flex-1 bg-cream-100 hover:bg-cream-200 text-cream-900 font-semibold py-3 px-6 rounded-lg transition"
        >
          Отмена
        </button>
      </div>
    </form>
  </div>
</div>
